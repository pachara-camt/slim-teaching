{% extends "form-layout.html" %}
{% set data_name = 'product' %}

{% block form_content %}
  <form class="cp-form" id="{{ data_name }}-form" action="{{ (data.id is empty)? url_for(data_name ~ '-add') : url_for(data_name ~ '-update', { id: data.id }) }}" method="post">
    <div class="cp-wrapper">
      <label>
        <span>Name</span>
        <input type="text" name="name" value="{{ data.name }}" />
      </label>
    </div>
    <div class="cp-wrapper">
      <label>
        <span>Category</span>
        <select name="id_category">
          {% for category in categoryList %}
          <option value="{{ category.id }}"{{ (data.id_category == category.id)? ' selected' : '' }}>{{ category.name }}</option>
          {% endfor %}
        </select>
      </label>
    </div>
    <div class="cp-wrapper">
      <label>
        <span>Price</span>
        <input type="number" step="0.01" class="cl-number" name="price" value="{{ data.price }}"/>
      </label>
    </div>
    <div class="cp-wrapper">
      <label>
        <span>Quantity</span>
        <input type="number" step="1" class="cl-number" name="qty" value="{{ data.qty }}" />
      </label>
    </div>
    <div class="cp-actions-panel">
      <button class="cl-primary" type="submit">Save</button>
      <span class="cp-space"></span>
      <a class="cp-button" href="{{ (data.id is empty)? url_for(data_name ~ '-list') : url_for(data_name ~ '-view', {id: data.id}) }}">Cancel</a>
    </div>
  </form>
{% endblock %}
